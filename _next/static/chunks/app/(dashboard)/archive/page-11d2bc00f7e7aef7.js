(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{7331:function(e,t,r){Promise.resolve().then(r.bind(r,9367))},9367:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var a=r(7437),n=r(4033),l=r(2836),s=r(9050);let createPath=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URL(e,window.location.origin);return Object.keys(t).forEach(e=>r.searchParams.append(e,t[e].toString())),r},RecordingList=e=>{let{recodingList:t,onDelete:r}=e,handleDelete=e=>{r(e)};return(0,a.jsxs)("div",{children:[0===t.length&&(0,a.jsx)("p",{children:"録画はありません"}),t.length>0&&(0,a.jsx)("ul",{className:"grid list-disc gap-y-4 pl-4",children:t.map(e=>{let{start:t,end:r}=e;return(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsxs)(l.r,{href:createPath("".concat(location.pathname),{recordKey:t}),children:[new Date(t).toLocaleString()," ~ ",new Date(r).toLocaleString(),"の録画"]}),(0,a.jsx)(s.z,{size:"small",variant:"secondary",onClick:()=>handleDelete(t),children:"削除"})]})},t)})})]})};var i=r(3072),o=r(2265),c=r(6793);let useRecordRangeList=()=>{let[e,t]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(0,c.Jy)({dbName:"DeviceOrientationVisualizationDB",onUpgradeneeded:e=>{let t=e.result;t.createObjectStore("recordStore"),t.createObjectStore("rangeStore")}}).then(()=>{(0,c.fQ)("DeviceOrientationVisualizationDB","rangeStore").then(e=>{let r=e.result;t(r)})})},[]),{recordRangeList:e,handleDelete:e=>{Promise.all([(0,c.DO)("DeviceOrientationVisualizationDB","recordStore",e.toString()),(0,c.DO)("DeviceOrientationVisualizationDB","rangeStore",e.toString())]).then(()=>{(0,c.fQ)("DeviceOrientationVisualizationDB","rangeStore").then(e=>{let r=e.result;t(r)})})}}},ArchiveList=()=>{let{recordRangeList:e,handleDelete:t}=useRecordRangeList(),r=e.sort((e,t)=>e.start<t.start?1:e.start>t.start?-1:0);return(0,a.jsxs)("div",{className:"grid gap-y-12",children:[(0,a.jsx)(i.b,{paths:[{label:"ホーム",href:"/"},{label:"録画",href:"/archive"}]}),(0,a.jsx)(RecordingList,{recodingList:r,onDelete:t})]})};var u=r(807),d=r(5632),m=r(3986),h=r(952);let useScaleLinear=e=>{let{data:t,width:r}=e,a=(0,o.useMemo)(()=>{let e=t[0],a=t[t.length-1];return h.BYU().domain([e.timestamp,a.timestamp]).range([0,r])},[t,r]);return{x:a}},DeviceOrientationProgressController=e=>{let{data:t,currentTimestamp:r,width:n=640,onUpdateCurrentProgress:l}=e,[s,i]=(0,o.useState)(!1),{x:c}=useScaleLinear({width:n,data:t});return(0,a.jsxs)("svg",{className:"h-full w-full overflow-visible",onPointerMove:e=>{if(!s)return;let t=e.currentTarget,r=t.getBoundingClientRect(),a=Math.max(0,Math.min(e.clientX-r.left,r.width));l(a/n)},onPointerDown:()=>i(!0),onPointerUp:()=>i(!1),children:[(0,a.jsx)("title",{children:"デバイスの回転の値（alpha、beta、gamma）の折れ線グラフの現在地"}),(0,a.jsx)("circle",{cx:c(r),cy:"10",r:"8",strokeWidth:1,className:(0,m.m)(d.G8.PROGRESS_LINE,d.eF.PROGRESS_LINE,"cursor-pointer")})]})},g={top:20,right:20,bottom:20,left:50},useGetLineValues=(e,t)=>{let r=(0,o.useMemo)(()=>e.reduce((e,t)=>{let r=t.timestamp,a={gamma:[[r,t.gamma],...e.gamma],alpha:[[r,t.alpha],...e.alpha],beta:[[r,t.beta],...e.beta]};return a},{gamma:[],alpha:[],beta:[]}),[e]),a=(0,o.useMemo)(()=>({alpha:t(r.alpha),gamma:t(r.gamma),beta:t(r.beta)}),[t,r]);return{lines:a}},hooks_useScaleLinear=e=>{let{width:t,height:r,data:a}=e,n=a[0],l=a[a.length-1],s=(0,o.useMemo)(()=>h.BYU().domain([n.timestamp,l.timestamp]).range([0,t]),[n,l,t]),i=(0,o.useMemo)(()=>h.BYU().domain([-180,360]).range([r,0]),[r]),c=(0,o.useMemo)(()=>h.jvg().x(e=>s(e[0])).y(e=>i(e[1])),[s,i]);return{x:s,y:i,line:c}},useXAxisLine=e=>{let{x:t,width:r}=e,a=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=a.current;if(e)return h.Ys(e).call(h.LLu(t).ticks(r<640?2:5).tickFormat(e=>{let t=new Date(e);return r<640?"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()):"".concat(t.getMonth()+1,"/").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())})),()=>{h.Ys(e).selectAll("g").remove()}},[t,r]),{gx:a}},useYAxisLine=e=>{let{y:t}=e,r=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=r.current;if(e)return h.Ys(e).call(h.y4O(t).tickValues([-180,-90,0,90,180,270,360]).tickFormat(e=>360===e?"360deg":"".concat(e))),()=>{h.Ys(e).selectAll("g").remove()}},[t]),{gy:r}},DeviceOrientationRecrodGraph=e=>{let{data:t,width:r=640,height:n=320,currentTimestamp:l}=e,s=r-g.left-g.right,i=n-g.top-g.bottom,{line:o,x:c,y:u}=hooks_useScaleLinear({width:s,height:i,data:t}),{lines:m}=useGetLineValues(t,o),{gx:h}=useXAxisLine({x:c,width:r}),{gy:f}=useYAxisLine({y:u}),x=c(l),p=t[0],v=t[t.length-1],j=l>=p.timestamp&&l<=v.timestamp;return(0,a.jsxs)("svg",{className:"h-full w-full",children:[(0,a.jsx)("title",{children:"デバイスの回転の値（alpha、beta、gamma）の折れ線グラフ"}),(0,a.jsx)("g",{ref:h,transform:"translate(".concat(g.left,",").concat(n-g.bottom,")")}),(0,a.jsx)("g",{ref:f,transform:"translate(".concat(g.left,",").concat(g.bottom,")")}),(0,a.jsx)("path",{className:d.G8.ALPHA,transform:"translate(".concat(g.left,", ").concat(g.top,")"),fill:"none",strokeWidth:"2",d:m.alpha}),(0,a.jsx)("path",{className:d.G8.GAMMA,transform:"translate(".concat(g.left,", ").concat(g.top,")"),fill:"none",strokeWidth:"2",d:m.gamma}),(0,a.jsx)("path",{className:d.G8.BETA,transform:"translate(".concat(g.left,", ").concat(g.top,")"),fill:"none",stroke:"blue",strokeWidth:"2",d:m.beta}),j&&(0,a.jsx)("line",{transform:"translate(".concat(g.left,", ").concat(g.top,")"),x1:x,x2:x,y1:"0",y2:n-g.bottom-g.top,fill:"none",stroke:"rgb(239 68 68)",strokeWidth:4})]})},useGetPathValues=e=>{let t=(0,o.useMemo)(()=>e.reduce((e,t)=>{let r=t.timestamp,a={gamma:[[r,t.gamma],...e.gamma],alpha:[[r,t.alpha],...e.alpha],beta:[[r,t.beta],...e.beta]};return a},{gamma:[],alpha:[],beta:[]}),[e]);return t},DeviceOrientationRecordSeekbar_hooks_useScaleLinear=e=>{let{data:t,width:r,height:a}=e,n=(0,o.useMemo)(()=>{let e=t[0],a=t[t.length-1];return h.BYU().domain([e.timestamp,a.timestamp]).range([0,r])},[t,r]),l=(0,o.useMemo)(()=>h.BYU().domain([-180,360]).range([a,0]),[a]),s=(0,o.useMemo)(()=>h.jvg().x(e=>n(e[0])).y(e=>l(e[1])),[n,l]);return{x:n,y:l,line:s}},useBrushX=e=>{let{width:t,height:r,onBrush:a,x:n}=e,l=(0,o.useRef)(null),s=(0,o.useMemo)(()=>h.Yud().extent([[0,0],[t,r]]).on("brush",e=>{let t=n.invert(e.selection[0]),r=n.invert(e.selection[1]);console.log(e),a([t,r])}).on("end",e=>{e.selection||a([0,t])}),[t,r,n,a]);return(0,o.useEffect)(()=>{let e=l.current;if(e)return h.Ys(e).call(s),()=>{h.Ys(e).selectAll("g").remove()}},[s]),{brushXRef:l}},DeviceOrientationRecordSeekbar=e=>{let{data:t,width:r=640,height:n=100,currentTimestamp:l,onBrush:s}=e,{x:i,line:o}=DeviceOrientationRecordSeekbar_hooks_useScaleLinear({data:t,width:r,height:n}),{gamma:c,alpha:u,beta:m}=useGetPathValues(t),{brushXRef:h}=useBrushX({x:i,width:r,height:n,onBrush:s}),g=i(l);return(0,a.jsxs)("svg",{className:"h-full w-full",children:[(0,a.jsx)("title",{children:"デバイスの回転の値（alpha、beta、gamma）の折れ線グラフのシークバー"}),(0,a.jsx)("path",{className:d.G8.ALPHA,fill:"none",strokeWidth:"2",d:o(u)}),(0,a.jsx)("path",{className:d.G8.GAMMA,fill:"none",strokeWidth:"2",d:o(c)}),(0,a.jsx)("path",{className:d.G8.BETA,fill:"none",stroke:"blue",strokeWidth:"2",d:o(m)}),(0,a.jsx)("line",{x1:g,x2:g,y1:"0",y2:n,fill:"none",className:d.G8.PROGRESS_LINE,strokeWidth:4}),(0,a.jsx)("g",{ref:h})]})},useDOMSize=()=>{let[e,t]=(0,o.useState)([0,0]),r=(0,o.useCallback)(e=>{if(null===e)return;let r=new AbortController,handleResize=()=>{t([e.clientWidth,e.clientHeight])};return handleResize(),window.addEventListener("resize",handleResize,{signal:r.signal}),()=>{r.abort()}},[]);return{width:e[0],height:e[1],ref:r}},useTimestampRange=()=>{let[e,t]=(0,o.useState)(null),r=(0,o.useCallback)(e=>{t(e)},[]);return{timestampRange:e,handleUpdateTimestampRange:r}},DeviceOrientationRecord=e=>{let{data:t,currentData:r,trigger:n,onUpdateElapsedTime:l}=e,{ref:s,width:i,height:c}=useDOMSize(),{ref:d,width:m}=useDOMSize(),{timestampRange:h,handleUpdateTimestampRange:g}=useTimestampRange(),f=(0,o.useMemo)(()=>{let e=t.filter(e=>{if(null===h)return!0;let t=e.timestamp,r=t>=h[0]&&t<=h[1];return r});return e.length>1?e:t},[t,h]),x=(0,o.useCallback)(e=>{let r=t[0].timestamp,a=t[t.length-1].timestamp;l((a-r)*e)},[t,l]),p=r.timestamp;return(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-[1fr_auto]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"aspect-video w-full",ref:s,children:(0,a.jsx)(DeviceOrientationRecrodGraph,{data:f,currentTimestamp:p,width:i,height:c})}),(0,a.jsx)("div",{ref:d,className:"mt-8 w-full outline outline-neutral-700",style:{height:"100px"},children:(0,a.jsx)(DeviceOrientationRecordSeekbar,{data:t,currentTimestamp:p,width:m,height:100,onBrush:g})}),(0,a.jsx)("div",{className:"h-6",children:(0,a.jsx)(DeviceOrientationProgressController,{data:t,width:m,currentTimestamp:p,onUpdateCurrentProgress:x})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.x,{...r}),(0,a.jsx)("div",{className:"mt-12 flex gap-x-4",children:n})]})]})};var f=r(5318);let useElapsedTime=()=>{let e=(0,o.useRef)(null),t=(0,o.useRef)(null),[r,a]=(0,o.useState)(!1),[n,l]=(0,o.useState)(0),s=(0,o.useCallback)(()=>{a(!0)},[]),i=(0,o.useCallback)(()=>{a(!1)},[]),c=(0,o.useCallback)(e=>{l(e)},[]),u=(0,o.useCallback)(()=>{l(0)},[]),d=(0,o.useCallback)(()=>{if(r){let r=Date.now();if(t.current=requestAnimationFrame(d),null===e.current){e.current=r;return}let a=r-e.current;l(e=>e+a),e.current=r}else e.current=null},[r]);return(0,o.useEffect)(()=>(t.current=requestAnimationFrame(d),()=>{t.current&&cancelAnimationFrame(t.current)}),[d]),{start:s,stop:i,reset:u,update:c,isRunning:r,elapsedTime:n}};var x=r(305);let useSelectedData=e=>{let[t,r]=(0,o.useState)();return(0,o.useEffect)(()=>{(0,c.ZS)("DeviceOrientationVisualizationDB","recordStore",e).then(async e=>{let t=await (0,x.r)(e.result);r(t.reverse())}).catch(()=>{r([])})},[e]),{recordData:t}},ArchiveDetail=e=>{var t;let{recordKey:r}=e,{recordData:n}=useSelectedData(r),{start:o,stop:c,update:u,isRunning:d,elapsedTime:m}=useElapsedTime();if(void 0===n)return(0,a.jsx)("p",{children:"読み込み中..."});if(0===n.length)return(0,a.jsxs)("div",{children:["データは存在しません。",(0,a.jsx)(l.r,{href:"/archive",children:"録画一覧に戻る"})]});let h=n[0],g=null!==(t=n.find(e=>e.timestamp>=h.timestamp+m))&&void 0!==t?t:n[n.length-1];return(0,a.jsxs)("div",{className:"grid gap-y-12",children:[(0,a.jsx)(i.b,{paths:[{label:"ホーム",href:"/"},{label:"録画",href:"/archive"},{label:"録画詳細",href:"/archive/".concat(r)}]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-[auto_1fr]",children:[(0,a.jsx)("div",{children:(0,a.jsx)(f.S,{currentTime:new Date(g.timestamp)})}),(0,a.jsx)("div",{children:(0,a.jsx)(DeviceOrientationRecord,{data:n,currentData:g,onUpdateElapsedTime:u,trigger:(0,a.jsx)(s.z,{onClick:d?c:o,children:d?"停止":"開始"})})})]})]})};var page=()=>{let e=(0,n.useSearchParams)(),t=e.get("recordKey");return null===t?(0,a.jsx)(ArchiveList,{}):(0,a.jsx)(ArchiveDetail,{recordKey:t})}},3072:function(e,t,r){"use strict";r.d(t,{b:function(){return BreadCrumbs}});var a=r(7437),n=r(2265),l=r(2836);let BreadCrumbs=e=>{let{paths:t}=e;return(0,a.jsx)("div",{className:"flex gap-x-2",children:t.map((e,r)=>r===t.length-1?(0,a.jsx)("p",{children:e.label},e.href):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.r,{href:e.href,children:e.label}),(0,a.jsx)("span",{children:">"})]},e.href))})}},9050:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var a=r(7437),n=r(2265),l=r(3986);let s=(0,n.forwardRef)((e,t)=>{let{children:r,variant:n,size:s,className:i,disabled:o,...c}=e;return(0,a.jsx)("button",{...c,ref:t,disabled:o,className:(0,l.m)("flex items-center justify-between gap-x-2 whitespace-nowrap rounded-md bg-neutral-50 px-4 py-2 text-neutral-900 hover:opacity-70 focus:border-neutral-50","secondary"===n&&"bg-neutral-900 border border-neutral-50 text-neutral-50 hover:opacity-70","small"===s&&"text-sm px-2 py-1 rounded",o&&"pointer-events-none opacity-20 hover:opacity-20",i),children:r})});s.displayName="Button"},5318:function(e,t,r){"use strict";r.d(t,{S:function(){return Clock}});var a=r(7437);let zeroPadding=(e,t)=>String(e).padStart(t,"0"),formatDateTimeToDigital=e=>{let t=e.getFullYear(),r=zeroPadding(e.getMonth()+1,2),a=zeroPadding(e.getDate(),2),n=zeroPadding(e.getHours(),2),l=zeroPadding(e.getMinutes(),2),s=zeroPadding(e.getSeconds(),2),i=zeroPadding(e.getMilliseconds(),3);return{date:"".concat(t,"-").concat(r,"-").concat(a),time:"".concat(n,":").concat(l,":").concat(s,".").concat(i)}},splitDateTime=e=>{let t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n=e.getHours(),l=e.getMinutes(),s=e.getSeconds(),i=e.getMilliseconds();return{year:t,month:r,date:a,hours:n,minutes:l,seconds:s,milliseconds:i}},AnalogClock=e=>{let{dateTime:t}=e,{hours:r,minutes:n,seconds:l}=splitDateTime(t);return(0,a.jsxs)("div",{className:"relative aspect-[1/1] w-[12rem] rounded-full bg-neutral-800 sm:w-[15rem]",children:[(0,a.jsx)("div",{style:{"--rotate-deg":"".concat((r+n/60)*30-90,"deg")},className:"absolute left-1/2 top-1/2 z-10 h-[6px] w-[30%] origin-[center_left] rotate-[var(--rotate-deg)] bg-neutral-50"}),(0,a.jsx)("div",{style:{"--rotate-deg":"".concat(6*n-90,"deg")},className:"absolute left-1/2 top-1/2 z-10 h-[4px] w-[40%] origin-[center_left] rotate-[var(--rotate-deg)] bg-neutral-50"}),(0,a.jsx)("div",{style:{"--rotate-deg":"".concat(6*l-90,"deg")},className:"absolute left-1/2 top-1/2 z-10 h-[4px]  w-[40%] origin-[center_left] rotate-[var(--rotate-deg)] bg-orange-500"}),(0,a.jsxs)("ol",{className:"relative h-full w-full text-center [&>li]:-translate-x-1/2 [&>li]:-translate-y-1/2",children:[(0,a.jsx)("li",{className:"absolute left-[70%] top-[14%]",children:"1"}),(0,a.jsx)("li",{className:"absolute left-[86%] top-[28%]",children:"2"}),(0,a.jsx)("li",{className:"absolute left-[90%] top-[50%]",children:"3"}),(0,a.jsx)("li",{className:"absolute left-[86%] top-[72%]",children:"4"}),(0,a.jsx)("li",{className:"absolute left-[70%] top-[86%]",children:"5"}),(0,a.jsx)("li",{className:"absolute left-[50%] top-[90%]",children:"6"}),(0,a.jsx)("li",{className:"absolute left-[30%] top-[86%]",children:"7"}),(0,a.jsx)("li",{className:"absolute left-[14%] top-[72%]",children:"8"}),(0,a.jsx)("li",{className:"absolute left-[10%] top-[50%]",children:"9"}),(0,a.jsx)("li",{className:"absolute left-[14%] top-[28%]",children:"10"}),(0,a.jsx)("li",{className:"absolute left-[30%] top-[14%]",children:"11"}),(0,a.jsx)("li",{className:"absolute left-[50%] top-[10%]",children:"12"})]})]})},DigitalClock=e=>{let{dateTime:t}=e,{date:r,time:n}=formatDateTimeToDigital(t);return(0,a.jsxs)("span",{className:"grid grid-rows-2 text-2xl",children:[(0,a.jsx)("span",{children:r}),(0,a.jsx)("span",{children:n})]})},Clock=e=>{let{currentTime:t}=e;return(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-8 text-center lg:flex-col",children:[(0,a.jsx)("div",{children:(0,a.jsx)(AnalogClock,{dateTime:t})}),(0,a.jsx)("div",{className:"flex items-center lg:block",children:(0,a.jsx)(DigitalClock,{dateTime:t})})]})}},807:function(e,t,r){"use strict";r.d(t,{x:function(){return DeviceOrientationValueList}});var a=r(7437),n=r(5632),l=r(3986);let DeviceOrientationValueList=e=>{let{alpha:t,gamma:r,beta:n}=e;return(0,a.jsxs)("dl",{className:"space-y-6",children:[(0,a.jsx)(DeviceOrientationValue,{type:"alpha",value:t}),(0,a.jsx)(DeviceOrientationValue,{type:"gamma",value:r}),(0,a.jsx)(DeviceOrientationValue,{type:"beta",value:n})]})},DeviceOrientationValue=e=>{let{type:t,value:r}=e;return(0,a.jsxs)("div",{className:(0,l.m)("grid min-w-[8rem] grid-rows-2 gap-y-2 rounded-md p-4 text-neutral-900",n.Zw[n.OK[t]]),children:[(0,a.jsxs)("dt",{children:[t," の値"]}),(0,a.jsx)("dd",{children:r})]})}},2836:function(e,t,r){"use strict";r.d(t,{r:function(){return Link}});var a=r(7437),n=r(1396),l=r.n(n),s=r(3986);let i={none:"no-underline",hover:"hover:underline",normal:"underline hover:no-underline"},Link=e=>{let{children:t,className:r,underline:n="normal",...o}=e;return(0,a.jsx)(l(),{...o,className:(0,s.m)("block",i[n],r),children:t})}},5632:function(e,t,r){"use strict";r.d(t,{G8:function(){return a},OK:function(){return l},Zw:function(){return s},eF:function(){return n}});let a={ALPHA:"stroke-rose-300",GAMMA:"stroke-green-300",BETA:"stroke-sky-300",PROGRESS_LINE:"stroke-red-500"},n={PROGRESS_LINE:"fill-red-500"},l={alpha:"ALPHA",gamma:"GAMMA",beta:"BETA"},s={ALPHA:"bg-rose-300",GAMMA:"bg-green-300",BETA:"bg-sky-300"}},305:function(e,t,r){"use strict";r.d(t,{I:function(){return convertArrayToBlob},r:function(){return readBlob}});let convertArrayToBlob=e=>new Blob([JSON.stringify(e)],{type:"application/json"}),readBlob=e=>new Promise((t,r)=>{let a=new FileReader;a.readAsText(e),a.onload=()=>{let e=a.result;"string"==typeof e?t(JSON.parse(e)):r("Blobの読み込みに失敗しました")}})},6793:function(e,t,r){"use strict";r.d(t,{DO:function(){return deleteIndexedDBValue},HZ:function(){return wirteIndexedDBValue},Jy:function(){return opneIndexedDB},ZS:function(){return readIndexedDBValue},fQ:function(){return readIndexedDBAll}});let opneIndexedDB=e=>{let{dbName:t,version:r=1,onSuccess:a,onUpgradeneeded:n,onError:l}=e;return new Promise((e,s)=>{let i=indexedDB.open(t,r);i.addEventListener("upgradeneeded",()=>{null==n||n(i)}),i.addEventListener("success",()=>{null==a||a(i),e(i)}),i.addEventListener("error",e=>{console.error("データベースを開けませんでした"),null==l||l(e),s("[".concat(t,"]データベースを開けませんでした"))})})},readIndexedDBAll=(e,t)=>new Promise(async(r,a)=>{let n=await opneIndexedDB({dbName:e}),l=n.result,s=l.objectStoreNames;if(s.contains(t)){let e=l.transaction(t,"readonly"),a=e.objectStore(t),n=a.getAll();n.addEventListener("success",()=>{r(n)})}else a("[".concat(t,"]オブジェクトストアが存在しません"))}),readIndexedDBValue=(e,t,r)=>new Promise(async(a,n)=>{let l=await opneIndexedDB({dbName:e}),s=l.result,i=s.objectStoreNames;if(i.contains(t)){let e=s.transaction(t,"readonly"),n=e.objectStore(t),l=n.get(r);l.addEventListener("success",()=>{a(l)})}else n("[".concat(t,"]オブジェクトストアが存在しません"))}),wirteIndexedDBValue=async e=>{let{dbName:t,data:r,version:a=1,storeName:n}=e;return new Promise(async(e,l)=>{let s=await opneIndexedDB({dbName:t,version:a}),i=s.result,o=i.objectStoreNames;if(o.contains(n)){let t=i.transaction(n,"readwrite"),a=t.objectStore(n);a.add(r.value,r.key),t.addEventListener("complete",()=>{console.log("データを追加しました"),e(s)})}else l("[".concat(n,"]オブジェクトストアが存在しません"))})},deleteIndexedDBValue=(e,t,r)=>new Promise(async(a,n)=>{let l=await opneIndexedDB({dbName:e}),s=l.result,i=s.objectStoreNames;if(i.contains(t)){let e=s.transaction(t,"readwrite"),n=e.objectStore(t),l=n.delete(r);l.addEventListener("success",()=>{a(l)})}else n("[".concat(t,"]オブジェクトストアが存在しません"))})},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[442,952,971,472,744],function(){return e(e.s=7331)}),_N_E=e.O()}]);